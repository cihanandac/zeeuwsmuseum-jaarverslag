{"version":3,"file":"server.8838bf72e804f28cdc89.hot-update.js","sources":["webpack:///./src/customizations/components/theme/Navigation/Navigation.jsx"],"sourcesContent":["/**\n * Navigation components.\n * @module components/theme/Navigation/Navigation\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { Dropdown, Menu } from 'semantic-ui-react';\nimport cx from 'classnames';\nimport { BodyClass, getBaseUrl, hasApiExpander } from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\nimport { getNavigation } from '@plone/volto/actions';\nimport { CSSTransition } from 'react-transition-group';\nimport NavItems from '@plone/volto/components/theme/Navigation/NavItems';\n\nconst messages = defineMessages({\n  closeMobileMenu: {\n    id: 'Close menu',\n    defaultMessage: 'Close menu',\n  },\n  openMobileMenu: {\n    id: 'Open menu',\n    defaultMessage: 'Open menu',\n  },\n});\n\n/**\n * Navigation container class.\n * @class Navigation\n * @extends Component\n */\nclass Navigation extends Component {\n  /**\n   * Property types.\n   * @property {Object} propTypes Property types.\n   * @static\n   */\n  static propTypes = {\n    getNavigation: PropTypes.func.isRequired,\n    pathname: PropTypes.string.isRequired,\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        title: PropTypes.string,\n        url: PropTypes.string,\n      }),\n    ).isRequired,\n    lang: PropTypes.string.isRequired,\n  };\n\n  /**\n   * Constructor\n   * @method constructor\n   * @param {Object} props Component properties\n   * @constructs Navigation\n   */\n  constructor(props) {\n    super(props);\n    this.toggleMobileMenu = this.toggleMobileMenu.bind(this);\n    this.closeMobileMenu = this.closeMobileMenu.bind(this);\n    this.state = {\n      isMobileMenuOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    const { settings } = config;\n    if (!hasApiExpander('navigation', getBaseUrl(this.props.pathname))) {\n      this.props.getNavigation(\n        getBaseUrl(this.props.pathname),\n        settings.navDepth,\n      );\n    }\n  }\n\n  /**\n   * Component will receive props\n   * @method componentWillReceiveProps\n   * @param {Object} nextProps Next properties\n   * @returns {undefined}\n   */\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { settings } = config;\n    if (\n      nextProps.pathname !== this.props.pathname ||\n      nextProps.token !== this.props.token\n    ) {\n      if (!hasApiExpander('navigation', getBaseUrl(this.props.pathname))) {\n        this.props.getNavigation(\n          getBaseUrl(nextProps.pathname),\n          settings.navDepth,\n        );\n      }\n    }\n  }\n\n  /**\n   * Toggle mobile menu's open state\n   * @method toggleMobileMenu\n   * @returns {undefined}\n   */\n  toggleMobileMenu() {\n    this.setState({ isMobileMenuOpen: !this.state.isMobileMenuOpen });\n  }\n\n  /**\n   * Close mobile menu\n   * @method closeMobileMenu\n   * @returns {undefined}\n   */\n  closeMobileMenu() {\n    if (!this.state.isMobileMenuOpen) {\n      return;\n    }\n    this.setState({ isMobileMenuOpen: false });\n  }\n\n  /**\n   * Render method.\n   * @method render\n   * @returns {string} Markup for the component.\n   */\n  render() {\n    return (\n      <nav className=\"navigation\" id=\"navigation\" aria-label=\"navigation\">\n        <div className=\"hamburger-wrapper mobile tablet only\">\n          <button\n            className={cx('hamburger hamburger--spin', {\n              'is-active': this.state.isMobileMenuOpen,\n            })}\n            aria-label={\n              this.state.isMobileMenuOpen\n                ? this.props.intl.formatMessage(messages.closeMobileMenu, {\n                    type: this.props.type,\n                  })\n                : this.props.intl.formatMessage(messages.openMobileMenu, {\n                    type: this.props.type,\n                  })\n            }\n            title={\n              this.state.isMobileMenuOpen\n                ? this.props.intl.formatMessage(messages.closeMobileMenu, {\n                    type: this.props.type,\n                  })\n                : this.props.intl.formatMessage(messages.openMobileMenu, {\n                    type: this.props.type,\n                  })\n            }\n            type=\"button\"\n            onClick={this.toggleMobileMenu}\n          >\n            <span className=\"hamburger-box\">\n              <span className=\"hamburger-inner\" />\n            </span>\n          </button>\n        </div>\n        <Menu\n          stackable\n          pointing\n          secondary\n          className=\"computer large screen widescreen only\"\n          onClick={this.closeMobileMenu}\n        >\n          <Dropdown item text=\"Categories\">\n            <Dropdown.Menu>\n              <Dropdown.Item>Electronics</Dropdown.Item>\n              <Dropdown.Item>Automotive</Dropdown.Item>\n              <Dropdown.Item>Home</Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n          <Dropdown item text=\"Categories\">\n            <Dropdown.Menu>\n              <Dropdown.Item>Electronics</Dropdown.Item>\n              <Dropdown.Item>Automotive</Dropdown.Item>\n              <Dropdown.Item>Home</Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n          <Dropdown item text=\"Categories\">\n            <Dropdown.Menu>\n              <Dropdown.Item>Electronics</Dropdown.Item>\n              <Dropdown.Item>Automotive</Dropdown.Item>\n              <Dropdown.Item>Home</Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n          <Dropdown item text=\"Categories\">\n            <Dropdown.Menu>\n              <Dropdown.Item>Electronics</Dropdown.Item>\n              <Dropdown.Item>Automotive</Dropdown.Item>\n              <Dropdown.Item>Home</Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu>\n        <CSSTransition\n          in={this.state.isMobileMenuOpen}\n          timeout={500}\n          classNames=\"mobile-menu\"\n          unmountOnExit\n        >\n          <div key=\"mobile-menu-key\" className=\"mobile-menu\">\n            <BodyClass className=\"has-mobile-menu-open\" />\n            <div className=\"mobile-menu-nav\">\n              <Menu stackable pointing secondary onClick={this.closeMobileMenu}>\n                <Dropdown item text=\"Categories\">\n                  <Dropdown.Menu>\n                    <Dropdown.Item>Electronics</Dropdown.Item>\n                    <Dropdown.Item>Automotive</Dropdown.Item>\n                    <Dropdown.Item>Home</Dropdown.Item>\n                  </Dropdown.Menu>\n                </Dropdown>\n              </Menu>\n            </div>\n          </div>\n        </CSSTransition>\n      </nav>\n    );\n  }\n}\n\nexport default compose(\n  injectIntl,\n  connect(\n    (state) => ({\n      token: state.userSession.token,\n      items: state.navigation.items,\n      lang: state.intl.locale,\n    }),\n    { getNavigation },\n  ),\n)(Navigation);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AALA;AAWA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAAA;AAAA;AACA;AAAA;AAIA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AADA;AAGA;AAGA;AADA;AAIA;AADA;AAIA;AAGA;AADA;AAIA;AADA;AAIA;AACA;AAvBA;AAyBA;AAAA;AACA;AAAA;AADA;AAzBA;AADA;AAgCA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AADA;AAOA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AADA;AA5BA;AAqCA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAHA;AADA;AADA;AADA;AAFA;AANA;AApEA;AA2FA;AACA;AAxLA;AACA;AADA;AAOA;AACA;AACA;AAEA;AACA;AAFA;AAKA;AATA;AACA;AAmLA;AAIA;AACA;AACA;AAHA;AAKA;AAAA;;;;A","sourceRoot":""}