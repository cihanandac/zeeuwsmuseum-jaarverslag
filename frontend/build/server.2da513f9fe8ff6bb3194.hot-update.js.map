{"version":3,"file":"server.2da513f9fe8ff6bb3194.hot-update.js","sources":["webpack:///./src/customizations/components/theme/View/RenderBlocks.jsx"],"sourcesContent":["import React from 'react';\nimport { getBaseUrl, applyBlockDefaults } from '@plone/volto/helpers';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { map } from 'lodash';\nimport {\n  getBlocksFieldname,\n  getBlocksLayoutFieldname,\n  hasBlocksData,\n} from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\n\nconst messages = defineMessages({\n  unknownBlock: {\n    id: 'Unknown Block',\n    defaultMessage: 'Unknown Block {block}',\n  },\n});\n\n\n\nconst RenderBlocks = (props) => {\n  const { location, intl, content, metadata } = props;\n  const blocksFieldname = getBlocksFieldname(content);\n  const blocksLayoutFieldname = getBlocksLayoutFieldname(content);\n  const blocksConfig = props.blocksConfig || config.blocks.blocksConfig;\n  const CustomTag = `${props.as || 'div'}`;\n\n\n  return hasBlocksData(content) ? (\n    <CustomTag>\n      {map(content[blocksLayoutFieldname].items, (block) => {\n        const Block =\n          blocksConfig[content[blocksFieldname]?.[block]?.['@type']]?.view;\n\n        const blockData = applyBlockDefaults({\n          data: content[blocksFieldname][block],\n          intl,\n          metadata,\n          properties: content,\n        });\n\n        return Block ? (\n          <Block\n            key={block}\n            id={block}\n            metadata={metadata}\n            properties={content}\n            data={blockData}\n            path={getBaseUrl(location?.pathname || '')}\n            blocksConfig={blocksConfig}\n          />\n        ) : (\n          <div key={block}>\n            {intl.formatMessage(messages.unknownBlock, {\n              block: content[blocksFieldname]?.[block]?.['@type'],\n            })}\n          </div>\n        );\n      })}\n    </CustomTag>\n  ) : (\n    ''\n  );\n};\n\nexport default injectIntl(RenderBlocks);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAKA;;AAEA;AACA;AAAA;AAAA;AAAA;AADA;AACA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAOA;AAGA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AADA;AADA;AAMA;AA7BA;AAkCA;AACA;AACA;;;;A","sourceRoot":""}