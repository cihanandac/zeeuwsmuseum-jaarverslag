{"version":3,"file":"server.dfb8e930622d48517d2e.hot-update.js","sources":["webpack:///./node_modules/@plone/volto/src/components/theme/View/RenderBlocks.jsx","webpack:///./src/customizations/config/Views.jsx"],"sourcesContent":["import React from 'react';\nimport { getBaseUrl, applyBlockDefaults } from '@plone/volto/helpers';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { map } from 'lodash';\nimport {\n  getBlocksFieldname,\n  getBlocksLayoutFieldname,\n  hasBlocksData,\n} from '@plone/volto/helpers';\nimport config from '@plone/volto/registry';\n\nconst messages = defineMessages({\n  unknownBlock: {\n    id: 'Unknown Block',\n    defaultMessage: 'Unknown Block {block}',\n  },\n});\n\nconst RenderBlocks = (props) => {\n  const { location, intl, content, metadata } = props;\n  const blocksFieldname = getBlocksFieldname(content);\n  const blocksLayoutFieldname = getBlocksLayoutFieldname(content);\n  const blocksConfig = props.blocksConfig || config.blocks.blocksConfig;\n  const CustomTag = `${props.as || 'div'}`;\n\n  return hasBlocksData(content) ? (\n    <CustomTag>\n      {map(content[blocksLayoutFieldname].items, (block) => {\n        const Block =\n          blocksConfig[content[blocksFieldname]?.[block]?.['@type']]?.view;\n\n        const blockData = applyBlockDefaults({\n          data: content[blocksFieldname][block],\n          intl,\n          metadata,\n          properties: content,\n        });\n\n        return Block ? (\n          <Block\n            key={block}\n            id={block}\n            metadata={metadata}\n            properties={content}\n            data={blockData}\n            path={getBaseUrl(location?.pathname || '')}\n            blocksConfig={blocksConfig}\n          />\n        ) : (\n          <div key={block}>\n            {intl.formatMessage(messages.unknownBlock, {\n              block: content[blocksFieldname]?.[block]?.['@type'],\n            })}\n          </div>\n        );\n      })}\n    </CustomTag>\n  ) : (\n    ''\n  );\n};\n\nexport default injectIntl(RenderBlocks);\n","import loadable from '@loadable/component';\n\nimport DefaultView from '@plone/volto/components/theme/View/DefaultView';\nimport FileView from '@plone/volto/components/theme/View/FileView';\nimport ImageView from '@plone/volto/components/theme/View/ImageView';\nimport ListingView from '@plone/volto/components/theme/View/ListingView';\nimport NewsItemView from '@plone/volto/components/theme/View/NewsItemView';\nimport SummaryView from '@plone/volto/components/theme/View/SummaryView';\nimport TabularView from '@plone/volto/components/theme/View/TabularView';\nimport LinkView from '@plone/volto/components/theme/View/LinkView';\nimport NotFoundView from '@plone/volto/components/theme/NotFound/NotFound';\nimport ConnectionRefused from '@plone/volto/components/theme/ConnectionRefused/ConnectionRefused';\nimport CorsError from '@plone/volto/components/theme/CorsError/CorsError';\nimport RequestTimeout from '@plone/volto/components/theme/RequestTimeout/RequestTimeout';\nimport AlbumView from '@plone/volto/components/theme/View/AlbumView';\nimport Unauthorized from '@plone/volto/components/theme/Unauthorized/Unauthorized';\nimport Forbidden from '@plone/volto/components/theme/Forbidden/Forbidden';\nimport { SliderPage } from 'components';\nimport RenderBlocks from '../../../omelette/src/components/theme/View/RenderBlocks';\n\nconst EventView = loadable(() =>\n  import('@plone/volto/components/theme/View/EventView'),\n);\n\n// Layout View Registry\nexport const layoutViews = {\n  document_view: DefaultView,\n  summary_view: SummaryView,\n  tabular_view: TabularView,\n  listing_view: ListingView,\n  link_redirect_view: LinkView,\n  album_view: AlbumView,\n  slider_view: SliderPage,\n  block_view: RenderBlocks\n};\n\n// Content Types View Registry\nexport const contentTypesViews = {\n  'News Item': NewsItemView,\n  File: FileView,\n  Image: ImageView,\n  Event: EventView,\n};\n\n// Default view\nexport const defaultView = DefaultView;\n\nexport const errorViews = {\n  '404': NotFoundView,\n  '401': Unauthorized,\n  '403': Forbidden,\n  '408': RequestTimeout,\n  ECONNREFUSED: ConnectionRefused,\n  corsError: CorsError,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAKA;;AAEA;AACA;AAAA;AAAA;AAAA;AADA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAOA;AAGA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AAEA;AADA;AADA;AAMA;AA7BA;AAkCA;AACA;AACA;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA,uTACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAWA;AACA;AACA;AACA;AACA;AAJA;AACA;AAOA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;A","sourceRoot":""}