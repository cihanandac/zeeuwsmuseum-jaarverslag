{"version":3,"file":"server.8dfeb7114daa55666b7d.hot-update.js","sources":["webpack:///./node_modules/@plone/volto/src/config/Blocks.jsx"],"sourcesContent":["import { defineMessages } from 'react-intl';\n\nimport ViewTitleBlock from '@plone/volto/components/manage/Blocks/Title/View';\nimport ViewDescriptionBlock from '@plone/volto/components/manage/Blocks/Description/View';\nimport ViewToCBlock from '@plone/volto/components/manage/Blocks/ToC/View';\nimport ViewTextBlock from '@plone/volto/components/manage/Blocks/Text/View';\nimport ViewImageBlock from '@plone/volto/components/manage/Blocks/Image/View';\nimport ViewLeadImageBlock from '@plone/volto/components/manage/Blocks/LeadImage/View';\nimport ViewListingBlock from '@plone/volto/components/manage/Blocks/Listing/View';\nimport ViewVideoBlock from '@plone/volto/components/manage/Blocks/Video/View';\nimport ViewHeroImageLeftBlock from '@plone/volto/components/manage/Blocks/HeroImageLeft/View';\nimport ViewMapBlock from '@plone/volto/components/manage/Blocks/Maps/View';\nimport ViewHTMLBlock from '@plone/volto/components/manage/Blocks/HTML/View';\nimport ViewTableBlock from '@plone/volto/components/manage/Blocks/Table/View';\n\nimport EditTitleBlock from '@plone/volto/components/manage/Blocks/Title/Edit';\nimport EditDescriptionBlock from '@plone/volto/components/manage/Blocks/Description/Edit';\nimport EditToCBlock from '@plone/volto/components/manage/Blocks/ToC/Edit';\nimport EditTextBlock from '@plone/volto/components/manage/Blocks/Text/Edit';\nimport EditImageBlock from '@plone/volto/components/manage/Blocks/Image/Edit';\nimport EditLeadImageBlock from '@plone/volto/components/manage/Blocks/LeadImage/Edit';\nimport EditListingBlock from '@plone/volto/components/manage/Blocks/Listing/Edit';\nimport DefaultListingBlockTemplate from '@plone/volto/components/manage/Blocks/Listing/DefaultTemplate';\nimport SummaryListingBlockTemplate from '@plone/volto/components/manage/Blocks/Listing/SummaryTemplate';\nimport EditVideoBlock from '@plone/volto/components/manage/Blocks/Video/Edit';\nimport EditHeroImageLeftBlock from '@plone/volto/components/manage/Blocks/HeroImageLeft/Edit';\nimport EditMapBlock from '@plone/volto/components/manage/Blocks/Maps/Edit';\nimport EditHTMLBlock from '@plone/volto/components/manage/Blocks/HTML/Edit';\nimport EditTableBlock from '@plone/volto/components/manage/Blocks/Table/Edit';\n\nimport descriptionSVG from '@plone/volto/icons/description.svg';\nimport titleSVG from '@plone/volto/icons/text.svg';\nimport textSVG from '@plone/volto/icons/subtext.svg';\nimport cameraSVG from '@plone/volto/icons/camera.svg';\nimport videoSVG from '@plone/volto/icons/videocamera.svg';\nimport globeSVG from '@plone/volto/icons/globe.svg';\nimport codeSVG from '@plone/volto/icons/code.svg';\nimport heroSVG from '@plone/volto/icons/hero.svg';\nimport tableSVG from '@plone/volto/icons/table.svg';\nimport listBulletSVG from '@plone/volto/icons/list-bullet.svg';\nimport tocSVG from '@plone/volto/icons/list-bullet.svg';\nimport searchSVG from '@plone/volto/icons/zoom.svg';\n\nimport ImageGalleryListingBlockTemplate from '@plone/volto/components/manage/Blocks/Listing/ImageGallery';\nimport BlockSettingsSchema from '@plone/volto/components/manage/Blocks/Block/Schema';\nimport TextSettingsSchema from '@plone/volto/components/manage/Blocks/Text/Schema';\nimport ImageSettingsSchema from '@plone/volto/components/manage/Blocks/Image/Schema';\nimport ToCSettingsSchema from '@plone/volto/components/manage/Blocks/ToC/Schema';\n\nimport SearchBlockView from '@plone/volto/components/manage/Blocks/Search/SearchBlockView';\nimport SearchBlockEdit from '@plone/volto/components/manage/Blocks/Search/SearchBlockEdit';\n\nimport RightColumnFacets from '@plone/volto/components/manage/Blocks/Search/layout/RightColumnFacets';\nimport LeftColumnFacets from '@plone/volto/components/manage/Blocks/Search/layout/LeftColumnFacets';\nimport TopSideFacets from '@plone/volto/components/manage/Blocks/Search/layout/TopSideFacets';\nimport {\n  SelectFacet,\n  CheckboxFacet,\n  DateRangeFacet,\n  ToggleFacet,\n  ToggleFacetFilterListEntry,\n  SelectFacetFilterListEntry,\n  DateRangeFacetFilterListEntry,\n} from '@plone/volto/components/manage/Blocks/Search/components';\nimport getListingBlockAsyncData from '@plone/volto/components/manage/Blocks/Listing/getAsyncData';\n\n// block sidebar schemas (not the Dexterity Layout block settings schemas)\nimport HeroImageLeftBlockSchema from '@plone/volto/components/manage/Blocks/HeroImageLeft/schema';\nimport ListingBlockSchema from '@plone/volto/components/manage/Blocks/Listing/schema';\nimport SearchBlockSchema from '@plone/volto/components/manage/Blocks/Search/schema';\n\ndefineMessages({\n  title: {\n    id: 'title',\n    defaultMessage: 'Title',\n  },\n  description: {\n    id: 'description',\n    defaultMessage: 'Description',\n  },\n  text: {\n    id: 'text',\n    defaultMessage: 'Text',\n  },\n  toc: {\n    id: 'toc',\n    defaultMessage: 'Table of Contents',\n  },\n  image: {\n    id: 'image',\n    defaultMessage: 'Image',\n  },\n  video: {\n    id: 'video',\n    defaultMessage: 'Video',\n  },\n  hero: {\n    id: 'hero',\n    defaultMessage: 'Hero',\n  },\n  table: {\n    id: 'table',\n    defaultMessage: 'Table',\n  },\n  maps: {\n    id: 'maps',\n    defaultMessage: 'Maps',\n  },\n  html: {\n    id: 'html',\n    defaultMessage: 'HTML',\n  },\n  leadimage: {\n    id: 'leadimage',\n    defaultMessage: 'Lead Image Field',\n  },\n  listing: {\n    id: 'listing',\n    defaultMessage: 'Listing',\n  },\n  // Groups\n  mostUsed: {\n    id: 'mostUsed',\n    defaultMessage: 'Most used',\n  },\n  media: {\n    id: 'media',\n    defaultMessage: 'Media',\n  },\n  common: {\n    id: 'common',\n    defaultMessage: 'Common',\n  },\n  // Listing block variations\n  summary: {\n    id: 'Summary',\n    defaultMessage: 'Summary',\n  },\n  imageGallery: {\n    id: 'Image gallery',\n    defaultMessage: 'Image gallery',\n  },\n  // Search block variations\n  facetsRightSide: {\n    id: 'Facets on right side',\n    defaultMessage: 'Facets on right side',\n  },\n  facetsLeftSide: {\n    id: 'Facets on left side',\n    defaultMessage: 'Facets on left side',\n  },\n  facetsTopSide: {\n    id: 'Facets on top',\n    defaultMessage: 'Facets on top',\n  },\n});\n\nconst groupBlocksOrder = [\n  { id: 'mostUsed', title: 'Most used' },\n  { id: 'text', title: 'Text' },\n  { id: 'media', title: 'Media' },\n  { id: 'common', title: 'Common' },\n];\n\nconst blocksConfig = {\n  title: {\n    id: 'title',\n    title: 'Title',\n    icon: titleSVG,\n    group: 'text',\n    view: ViewTitleBlock,\n    edit: EditTitleBlock,\n    schema: BlockSettingsSchema,\n    restricted: ({ properties, block }) =>\n      properties.blocks_layout?.items?.find(\n        (uid) => properties.blocks?.[uid]?.['@type'] === block.id,\n      ),\n    mostUsed: false,\n    blockHasOwnFocusManagement: true,\n    sidebarTab: 0,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  description: {\n    id: 'description',\n    title: 'Description',\n    icon: descriptionSVG,\n    group: 'text',\n    view: ViewDescriptionBlock,\n    edit: EditDescriptionBlock,\n    schema: BlockSettingsSchema,\n    restricted: true,\n    mostUsed: false,\n    blockHasOwnFocusManagement: true,\n    sidebarTab: 0,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  text: {\n    id: 'text',\n    title: 'Text',\n    icon: textSVG,\n    group: 'text',\n    view: ViewTextBlock,\n    edit: EditTextBlock,\n    schema: TextSettingsSchema,\n    restricted: false,\n    mostUsed: false,\n    blockHasOwnFocusManagement: true,\n    sidebarTab: 0,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n    blockHasValue: (data) => {\n      const isEmpty =\n        !data.text ||\n        (data.text?.blocks?.length === 1 && data.text.blocks[0].text === '');\n      return !isEmpty;\n    },\n  },\n  image: {\n    id: 'image',\n    title: 'Image',\n    icon: cameraSVG,\n    group: 'media',\n    view: ViewImageBlock,\n    edit: EditImageBlock,\n    schema: ImageSettingsSchema,\n    restricted: false,\n    mostUsed: true,\n    sidebarTab: 1,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  leadimage: {\n    id: 'leadimage',\n    title: 'Lead Image Field',\n    icon: cameraSVG,\n    group: 'media',\n    view: ViewLeadImageBlock,\n    edit: EditLeadImageBlock,\n    schema: BlockSettingsSchema,\n    restricted: ({ properties }) => !properties.hasOwnProperty('image'),\n    mostUsed: false,\n    sidebarTab: 1,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  listing: {\n    id: 'listing',\n    title: 'Listing',\n    icon: listBulletSVG,\n    group: 'common',\n    view: ViewListingBlock,\n    edit: EditListingBlock,\n    schema: BlockSettingsSchema,\n    blockSchema: ListingBlockSchema,\n    restricted: false,\n    mostUsed: true,\n    sidebarTab: 1,\n    showLinkMore: false,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n    variations: [\n      {\n        id: 'default',\n        isDefault: true,\n        title: 'Default',\n        template: DefaultListingBlockTemplate,\n      },\n      {\n        id: 'imageGallery',\n        title: 'Image gallery',\n        template: ImageGalleryListingBlockTemplate,\n      },\n      {\n        id: 'summary',\n        title: 'Summary',\n        template: SummaryListingBlockTemplate,\n      },\n    ],\n    getAsyncData: getListingBlockAsyncData,\n  },\n  video: {\n    id: 'video',\n    title: 'Video',\n    icon: videoSVG,\n    group: 'media',\n    view: ViewVideoBlock,\n    edit: EditVideoBlock,\n    schema: BlockSettingsSchema,\n    restricted: false,\n    mostUsed: true,\n    sidebarTab: 1,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  toc: {\n    id: 'toc',\n    title: 'Table of Contents',\n    icon: tocSVG,\n    group: 'common',\n    view: ViewToCBlock,\n    edit: EditToCBlock,\n    schema: ToCSettingsSchema,\n    restricted: false,\n    mostUsed: false,\n    sidebarTab: 0,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  hero: {\n    id: 'hero',\n    title: 'Hero',\n    icon: heroSVG,\n    group: 'common',\n    view: ViewHeroImageLeftBlock,\n    edit: EditHeroImageLeftBlock,\n    schema: BlockSettingsSchema,\n    blockSchema: HeroImageLeftBlockSchema,\n    restricted: false,\n    mostUsed: false,\n    blockHasOwnFocusManagement: true,\n    sidebarTab: 1,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n\n  maps: {\n    id: 'maps',\n    title: 'Maps',\n    icon: globeSVG,\n    group: 'common',\n    view: ViewMapBlock,\n    edit: EditMapBlock,\n    schema: BlockSettingsSchema,\n    restricted: false,\n    mostUsed: false,\n    sidebarTab: 1,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  html: {\n    id: 'html',\n    title: 'HTML',\n    icon: codeSVG,\n    group: 'common',\n    view: ViewHTMLBlock,\n    edit: EditHTMLBlock,\n    schema: BlockSettingsSchema,\n    restricted: false,\n    mostUsed: false,\n    sidebarTab: 0,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  table: {\n    id: 'table',\n    title: 'Table',\n    icon: tableSVG,\n    group: 'common',\n    view: ViewTableBlock,\n    edit: EditTableBlock,\n    schema: BlockSettingsSchema,\n    restricted: false,\n    mostUsed: false,\n    blockHasOwnFocusManagement: true,\n    sidebarTab: 1,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n  },\n  search: {\n    id: 'search',\n    title: 'Search',\n    icon: searchSVG,\n    group: 'common',\n    view: SearchBlockView,\n    edit: SearchBlockEdit,\n    blockSchema: SearchBlockSchema,\n    restricted: false,\n    mostUsed: false,\n    sidebarTab: 1,\n    security: {\n      addPermission: [],\n      view: [],\n    },\n    variations: [\n      {\n        id: 'facetsRightSide',\n        title: 'Facets on right side',\n        view: RightColumnFacets,\n        isDefault: true,\n      },\n      {\n        id: 'facetsLeftSide',\n        title: 'Facets on left side',\n        view: LeftColumnFacets,\n        isDefault: false,\n      },\n      {\n        id: 'facetsTopSide',\n        title: 'Facets on top',\n        view: TopSideFacets,\n        isDefault: false,\n      },\n    ],\n    extensions: {\n      facetWidgets: {\n        rewriteOptions: (name, choices) => {\n          return name === 'review_state'\n            ? choices.map((opt) => ({\n                ...opt,\n                label: opt.label.replace(/\\[.+\\]/, '').trim(),\n              }))\n            : choices;\n        },\n        types: [\n          {\n            id: 'selectFacet',\n            title: 'Select',\n            view: SelectFacet,\n            isDefault: true,\n            schemaEnhancer: SelectFacet.schemaEnhancer,\n            stateToValue: SelectFacet.stateToValue,\n            valueToQuery: SelectFacet.valueToQuery,\n            filterListComponent: SelectFacetFilterListEntry,\n          },\n          {\n            id: 'checkboxFacet',\n            title: 'Checkbox',\n            view: CheckboxFacet,\n            isDefault: false,\n            schemaEnhancer: CheckboxFacet.schemaEnhancer,\n            stateToValue: CheckboxFacet.stateToValue,\n            valueToQuery: CheckboxFacet.valueToQuery,\n            filterListComponent: SelectFacetFilterListEntry,\n          },\n          {\n            id: 'daterangeFacet',\n            title: 'Date range',\n            view: DateRangeFacet,\n            isDefault: false,\n            stateToValue: DateRangeFacet.stateToValue,\n            valueToQuery: DateRangeFacet.valueToQuery,\n            filterListComponent: DateRangeFacetFilterListEntry,\n          },\n          {\n            id: 'toggleFacet',\n            title: 'Toggle',\n            view: ToggleFacet,\n            isDefault: false,\n            stateToValue: ToggleFacet.stateToValue,\n            valueToQuery: ToggleFacet.valueToQuery,\n            filterListComponent: ToggleFacetFilterListEntry,\n          },\n        ],\n      },\n    },\n  },\n};\n\nconst requiredBlocks = [];\n\nconst initialBlocks = {};\nconst initialBlocksFocus = {}; //{Document:'title'}\n\nexport {\n  groupBlocksOrder,\n  requiredBlocks,\n  blocksConfig,\n  initialBlocks,\n  initialBlocksFocus,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AASA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAhFA;AAsFA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AADA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAFA;AAfA;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAZA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AACA;AAAA;AAGA;AACA;AArBA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAXA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAXA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AAnCA;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAXA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAXA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAbA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAXA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAXA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAZA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAGA;AAFA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAvCA;AADA;AAnCA;AAtOA;AAgUA;AAEA;AACA;AACA;;;;;A","sourceRoot":""}